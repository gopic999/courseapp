<h1>Course reviews</h1>
<reviewlist></reviewlist>

<div class="rform">
    <form [formGroup]="reviewForm" (submit)="saveReview()">
        <table>
            <tr>
                <th>Name</th>
                <td>
                    <input type="text" formControlName="name">
                </td>
                <td>
                    <div *ngIf='reviewForm.controls.name.hasError("required")'> Name is mandatory </div>
                    <div *ngIf='reviewForm.controls.name.hasError("needFormat")'> No symbols are allowed for name </div>
                </td>
            </tr>
            <tr>
                <th>Email</th>
                <td>
                    <input type="text" formControlName="email">
                </td>
                <td>
                    <div *ngIf='reviewForm.controls.email.hasError("required")'> Email is mandatory </div>
                    <div *ngIf='reviewForm.controls.email.hasError("email")'> Email format is incorrect </div>
                </td>
            </tr>
            <tr>
                <th>Course</th>
                <td>
                    <select formControlName="course">
                        <option *ngFor="let course of courses"> {{ course }}</option>
                    </select>
                </td>
                <td></td>
            </tr>
            <tr>
                <th>Message</th>
                <td>
                    <textarea rows=6 cols=50 formControlName="message"></textarea>
                </td>
                <td>
                    <div *ngIf='reviewForm.controls.message.hasError("required")'> Message is mandatory </div>
                </td>
            </tr>

            <tr>
                <td colspan="3" align="center">
                    <button type="submit" class="btn btn-primary" [disabled]="!reviewForm.valid">
                        Post Review
                    </button>
                </td>
            </tr>
        </table>
    </form>
</div>